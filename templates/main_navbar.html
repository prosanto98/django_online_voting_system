<!DOCTYPE html>
{% load static %} {% load gravatar %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      .font-style {
        font-weight: 400;
        font-style: normal;
        font-variant: normal;
        text-transform: uppercase;
        text-decoration: none;
        font-family(stack): Roboto;
        font-size: 17px;
        text-indent: 0px;
      }
      .text-color {
        color: black !important;
      }
      .text-color:hover {
        color: green !important;
      }
      .navbar-nav .nav-link {
        white-space: nowrap;
      }
      @media (max-width: 1024px) {
        .navbar-nav .nav-link {
          font-size: 14px;
        }
        .logo {
          font-size: 14px;
        }
      }
    </style>
  </head>

  <body style="padding-top: 90px" class="fs-5">
    <nav
      style="top: 35px; z-index: 1030"
      class="navbar navbar-expand-lg bg-white mt-0 shadow fixed-top d-flex align-items-center"
    >
      <div class="container">
        <a
          class="navbar-brand d-flex align-items-center"
          href="{% url 'home' %}"
        >
          <img
            src="{% static 'logo.jpeg' %}"
            alt="Logo"
            width="45"
            height="38"
            class="me-2 rounded"
          />
          <span class="text-color font-style logo">DIU Voter Portal</span>
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Main Menu -->
          <ul
            class="navbar-nav mb-2 mb-lg-0 w-100 justify-content-center text-center"
          >
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'home' %}"
                >Home</a
              >
            </li>
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'registration:registration' %}"
                >Registration</a
              >
            </li>
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'results' %}"
                >Results</a
              >
            </li>
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'about_us' %}"
                >About Us</a
              >
            </li>
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'contact_us' %}"
                >Contact Us</a
              >
            </li>
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'voter_education' %}"
                >Voter Info</a
              >
            </li>
          </ul>

          <!-- Right Side User Dropdown -->
          <ul
            class="navbar-nav mb-2 mb-lg-0 justify-content-end align-items-center"
          >
            <!-- Polling -->
            <li class="nav-item me-2">
              <a
                class="nav-link active text-color font-style"
                href="{% url 'polling:polling_page' %}"
                >Polling</a
              >
            </li>

            <!-- Login / Logout Dropdown -->
            <li class="nav-item dropdown me-2">
              <a
                class="nav-link d-flex align-items-center p-0"
                href="#"
                id="userDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                style="border: none; background: none"
              >
                {% if user_email %}
                <img
                  src="{{ user_email|gravatar_url:42 }}"
                  alt="User Avatar"
                  class="rounded-circle border border-secondary"
                  style="width: 42px; height: 42px; object-fit: cover"
                />
                {% else %}
                <div
                  class="rounded-circle border border-secondary d-flex justify-content-center align-items-center"
                  style="width: 42px; height: 42px"
                >
                  <i class="bi bi-person-fill text-success fs-5"></i>
                </div>
                {% endif %}
              </a>
              <ul
                class="dropdown-menu mt-2 text-center dropdown-menu-end"
                aria-labelledby="userDropdown"
              >
                {% if request.session.user_id %}
                <li>
                  <a
                    class="dropdown-item text-color font-style"
                    href="{% url 'logout' %}"
                    >Logout</a
                  >
                </li>
                {% else %}
                <li>
                  <a
                    class="dropdown-item text-color font-style"
                    href="{% url 'login' %}"
                    >Login</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item text-color font-style"
                    href="{% url 'signup' %}"
                    >Sign Up</a
                  >
                </li>
                {% endif %}
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
